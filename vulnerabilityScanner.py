import scanner
from urllib import *
import re
target_url = input("Enter a valid URL starting with http or https: ")
works = 0
regex = re.compile(
        r'^(?:http|ftp)s?://' # http:// or https://
        r'(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+(?:[A-Z]{2,6}\.?|[A-Z0-9-]{2,}\.?)|' #domain...
        r'localhost|' #localhost...
        r'\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})' # ...or ip
        r'(?::\d+)?' # optional port
        r'(?:/?|[/?]\S+)$', re.IGNORECASE)
while works ==0:
    if re.match(regex, target_url) is not None:
        vScanner = scanner.Scanner(target_url)

        vScanner.crawl()
        works += 1
    else:
        print ("Invalid URL. The url may be formatted wrong or it does not exist on the internet.")
        target_url = input("enter a valid URL starting with http or https: ")
